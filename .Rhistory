command <- paste0("gen_values_home_", gen_var_name, " <- agg.team['", gen_home_team_id, "', ]$opp_team_", gen_var_name)
eval(parse(text=command))
# Append it to our earlier vector
command <- paste0("gen_var_away_vec_", gen_var_name, " <- append(gen_var_away_vec_", gen_var_name, ", gen_values_away_", gen_var_name, ")")
eval(parse(text=command))
command <- paste0("gen_var_home_vec_", gen_var_name, " <- append(gen_var_home_vec_", gen_var_name, ", gen_values_home_", gen_var_name, ")")
eval(parse(text=command))
}
}
command
gen_var_home_vec_losses
gen_var_home_vec_wins
basicgamestatsaddsingle
gen_away_team_id
command <- paste0("gen_values_away_", gen_var_name, " <- agg.team['", gen_away_team_id, "', ]$opp_team_", gen_var_name)
command
eval(parse(text=command))
gen_values_away_wins
agg.team["102"]
agg.team["102",]
basicgamestats_team
home_away_vars_to_populate <- sapply(seq(1:40), function (x){
gen_var_name <- basicgamestats_team[x]
paste0("team_", gen_var_name)
})
home_away_vars_to_populate
home_away_vars_to_populate <- sapply(seq(1:31), function (x){
gen_var_name <- basicgamestats_team[x]
paste0("team_", gen_var_name)
})
home_away_vars_to_populate
basicgamestats_team
basicgamestatsaddunique
basicgamestatsaddsingle
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("vec_team_away$", gen_var_name, " = ind.game$", gen_var_name)
eval(parse(text=command))
}
basicgamestatsaddsingle
command
vec_team_away
vec_team_away$losses
View(vec_team_away)
command
basicgamestatsaddsingle
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("gen_var_vec_opp_season_", gen_var_name, " <- NULL")
eval(parse(text=command))
}
command
gen_var_vec_opp_season_wins
gen_var_vec_opp_season_losses
basicgamestatsaddsingle
View(ind.team.1)
gen_team_id
variable
variable <- 1
command <- paste0("gen_values_opp_season_", gen_var_name, " <- mean(ind.team[ind.team$thisteam_team_id == ", gen_team_id, ", ]$opp_season_", gen_var_name, ", na.rm = TRUE)")
command
ind.team[ind.team$thisteam_team_id == 346,]
ind.team[ind.team$thisteam_team_id == "346",]
ind.team[ind.team$thisteam_team_id == 346, ]
ind.team.1[ind.team.1$thisteam_team_id == 346, ]
q <- ind.team.1[ind.team.1$thisteam_team_id == 346, ]
View(q)
basicgamestatsaddsingle
q[q$home == 1,]
basicgamestatsaddsingle
q[q$home == 1,]$ptsdiff
gen_var_vec_opp_season_avg_ptsdiff
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("agg.team$opp_team_", gen_var_name, " <- gen_var_vec_opp_season_", gen_var_name)
eval(parse(text=command))
}
View(agg.team)
View(agg.team)
q[q$home == 1,]
t <- q[q$home == 1,]
View(t)
gen_var_name
View(t)
View(agg.player)
basicgamestatsaddsingle
View(q)
q <- ind.team.1[ind.team.1$thisteam_team_id == 346, ]$opp_team_id
q
t <- ind.team.1[ind.team.1$opp_team_id == q]
t <- ind.team.1[ind.team.1$opp_team_id == q[1]]
t <- ind.team.1[ind.team.1$opp_team_id == q[1],]
View(t)
q <- ind.team.1[ind.team.1$thisteam_team_id == 346, ]$opp_team_id
q
t <- ind.team.1[ind.team.1$thisteam_team_id == q[1],]
View(t)
basicgamestatsaddsingle
gen_var_name
q
i along q
seq(along=q)
z <- null
z <- NULL
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
if(t$home == 1){
z <- append(z,mean(t$ptsdiff))
}
}
warnings()
z
t
View(t)
subset(t,t$home==1)
r <- subset(t,t$home==1)
mean(r$ptsdiff)
rm("q")
rm(t)
z <- NULL
gen_team_id <- as.character(agg.team.teams[team])
gen_team_id
q <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
r <- subset(t,t$home==1)
z <- append(z,mean(r$ptsdiff))
}
z
z[14]
z[16]
q[16]
t <- ind.team.1[ind.team.1$thisteam_team_id == q[16],]
View(t)
r <- subset(t,t$home==1)
View(r)
mean(r$ptsdiff)
mean(r$ptsdiff,na.rm=F)
mean(r$ptsdiff,na.rm=T)
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
r <- subset(t,t$home==1)
z <- append(z, ifelse(length(r)==0,0,mean(r$ptsdiff))
}
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
r <- subset(t,t$home==1)
z <- append(z, ifelse(length(r)==0,0,mean(r$ptsdiff)))
}
z
z[16]
q[16]
t <- ind.team.1[ind.team.1$thisteam_team_id == q[16],]
r <- subset(t,t$home==1)
ifelse(length(r)==0,0,mean(r$ptsdiff))
length(r)
nrow(r)
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
r <- subset(t,t$home==1)
z <- append(z, ifelse(nrow(r)==0,0,mean(r$ptsdiff)))
}
z
q
rm(z)
z <- NULL
for(i in seq(along=q)){
t <- ind.team.1[ind.team.1$thisteam_team_id == q[i],]
r <- subset(t,t$home==1)
z <- append(z, ifelse(nrow(r)==0,0,mean(r$ptsdiff)))
}
z
mean(z)
q
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[1],]
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[1],]
tm_subset
View(tm_subset)
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
View(away_subset)
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff)))}
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff)))}
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff)))
rm(list = ls(pattern = "\\bvec_"))
rm(list = ls(pattern = "\\bgen_"))
for(i in seq(along=q)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff)))
}
gen_team_id
opp_subset
gen_team_id
gen_team_id <- as.character(agg.team.teams[1])
gen_team_id
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
home_avg_ptsdiff
away_avg_ptsdiff
mean(home_avg_ptsdiff)
mean(away_avg_ptsdiff)
away_avg_ptsdiff[17]
q[17]
opp_subset[17]
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[17],]
away_subset <- subset(tm_subset,tm_subset$home == 0)
View(away_subset)
rm(away_avg_ptsdiff)
away_avg_ptsdiff <- NULL
ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff))
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[20],]
away_subset <- subset(tm_subset,tm_subset$home == 0)
View(away_subset)
ifelse(nrow(away_subset)==0,0,mean(home_subset$ptsdiff))
ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff))
rm(home_avg_ptsdiff)
rm(away_avg_ptsdiff)
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
gen_team_id <- as.character(agg.team.teams[team])
gen_team_id
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=q)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff)))
}
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
length(home_avg_ptsdiff)
length(agg.team[gen_team_id,])
mean(home_avg_ptsdiff)
rep(mean(home_avg_ptsdiff),length(agg.team[gen_team_id,])
)
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- rep(mean(home_avg_ptsdiff),length(agg.team[gen_team_id,]))
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff
agg.team[gen_team_id,]
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
for (team in seq(along=agg.team.teams)) {
gen_team_id <- as.character(agg.team.teams[team])
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=q)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff)))
}
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
}
warnings()
View(agg.team)
agg.team$opp_team_home_avg_ptsdiff <- NULL
View(agg.team)
agg.team$opp_team_home_avg_ptsdiff <- rep(NULL,llength(agg.team$team_ft))
agg.team$opp_team_home_avg_ptsdiff <- rep(NULL,length(agg.team$team_ft))
View(agg.team)
agg.team$opp_team_home_avg_ptsdiff <- rep(0,length(agg.team$team_ft))
View(agg.team)
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
gen_team_id
system.time(agg.team$opp_team_home_avg_ptsdiff <- rep(0,length(agg.team$team_ft))
agg.team$opp_team_away_avg_ptsdiff <- rep(0,length(agg.team$team_ft))
for (team in seq(along=agg.team.teams)) {
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
gen_team_id <- as.character(agg.team.teams[team])
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=opp_subset)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff)))
}
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
rm(home_avg_ptsdiff)
rm(away_avg_ptsdiff)
})
agg.team$opp_team_home_avg_ptsdiff <- rep(0,length(agg.team$team_ft))
agg.team$opp_team_away_avg_ptsdiff <- rep(0,length(agg.team$team_ft))
for (team in seq(along=agg.team.teams)) {
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
gen_team_id <- as.character(agg.team.teams[team])
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=opp_subset)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff)))
}
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
rm(home_avg_ptsdiff)
rm(away_avg_ptsdiff)
}
View(agg.team)
basicgamestatsaddsingle
command = paste0("agg.team$opp_team_",var_name)
var_name = basicgamestatsaddsingle[1]
command = paste0("agg.team$opp_team_",var_name)
comman
command
command = paste0("agg.team$opp_team_",var_name,"<-")
command
command = paste0("agg.team$opp_team_",var_name," <-")
command
command = paste0("agg.team$opp_team_",var_name," <-","rep(0,length(agg.team$team_ft))")
command
eval(parse(text=command))
View(agg.team)
for(var in seq(along=basicgamestatsaddsingle)){
var_name = basicgamestatsaddsingle[var]
command = paste0("agg.team$opp_team_",var_name," <-","rep(0,length(agg.team$team_ft))")
eval(parse(text=command))
}
View(ind.team.1)
tm_subset
home_subset$ptsdiff>0
which(home_subset$ptsdiff>0)
View(home_subset)
away_subset$ptsdiff>0
which(away_subset$ptsdiff>0)
length(which(away_subset$ptsdiff>0))
basicgamestatsaddsingle
var_name = basicgamestatsaddsingle[var]
var_name
rm(var_name)
losses <- NULL
rm(var_name)
var_name
rm(eval(parse(var_name)))
rm(eval(parse(text=var_name)))
var_name
var_name = basicgamestatsaddsingle[var]
var_name
rm(eval(parse(var_name)))
rm(eval(parse(text=var_name)))
for(var in seq(along=basicgamestatsaddsingle)){
var_name = basicgamestatsaddsingle[var]
command = paste0("agg.team$opp_team_",var_name," <-","rep(0,length(agg.team$team_ft))")
eval(parse(text=command))
}
# Make Calculations
for (team in seq(along=agg.team.teams)) {
home_avg_ptsdiff <- NULL
away_avg_ptsdiff <- NULL
avg_ptsdiff <- NULL
home_wins <- NULL
away_wins <- NULL
wins <- NULL
home_losses <- NULL
away_losses <- NULL
losses <- NULL
gen_team_id <- as.character(agg.team.teams[team])
opp_subset <- ind.team.1[ind.team.1$thisteam_team_id == gen_team_id, ]$opp_team_id
for(i in seq(along=opp_subset)){
tm_subset <- ind.team.1[ind.team.1$thisteam_team_id == opp_subset[i],]
home_subset <- subset(tm_subset,tm_subset$home==1)
away_subset <- subset(tm_subset,tm_subset$home == 0)
# Populate Data
home_avg_ptsdiff <- append(home_avg_ptsdiff, ifelse(nrow(home_subset)==0,0,mean(home_subset$ptsdiff)))
away_avg_ptsdiff <- append(away_avg_ptsdiff, ifelse(nrow(away_subset)==0,0,mean(away_subset$ptsdiff)))
avg_ptsdiff <- append(avg_ptsdiff,mean(tm_subset$ptsdiff))
home_wins <- length(which(home_subset$ptsdiff>0))
away_wins <- length(which(away_subset$ptsdiff>0))
wins <- length(which(tm_subset$ptsdiff>0))
home_losses <- length(which(home_subset$ptsdiff<0))
away_losses <- length(which(away_subset$ptsdiff<0))
losses <- length(which(tm_subset$ptsdiff<0))
}
agg.team[gen_team_id,]$opp_team_home_avg_ptsdiff <- mean(home_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_away_avg_ptsdiff <- mean(away_avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_avg_ptsdiff <- mean(avg_ptsdiff)
agg.team[gen_team_id,]$opp_team_home_wins <- home_wins
agg.team[gen_team_id,]$opp_team_away_wins <- away_wins
agg.team[gen_team_id,]$opp_team_wins <- wins
agg.team[gen_team_id,]$opp_team_home_losses <- home_losses
agg.team[gen_team_id,]$opp_team_away_losses <- away_losses
agg.team[gen_team_id,]$opp_team_losses <- losses
rm(home_avg_ptsdiff)
rm(away_avg_ptsdiff)
rm(avg_ptsdiff)
rm(home_wins)
rm(away_wins)
rm(wins)
rm(home_losses)
rm(away_losses)
rm(losses)
}
View(agg.team)
ind.game.games <- row.names(ind.game)
opp_vars_to_populate <- NULL
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
opp_vars_to_populate <- append(opp_vars_to_populate, paste0("opp", gen_var_name))
}
opp_vars_to_populate
opp_vars_to_populate <- NULL
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
opp_vars_to_populate <- append(opp_vars_to_populate, paste0("opp_", gen_var_name))
}
opp_vars_to_populate
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("gen_var_away_vec_", gen_var_name, " <- NULL")
eval(parse(text=command))
command <- paste0("gen_var_home_vec_", gen_var_name, " <- NULL")
eval(parse(text=command))
}
rm(list = ls(pattern = "\\bvec_"))
rm(list = ls(pattern = "\\bgen_"))
opp_vars_to_populate <- NULL
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
opp_vars_to_populate <- append(opp_vars_to_populate, paste0("opp_", gen_var_name))
}
opp_vars_to_populate
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("gen_var_away_vec_", gen_var_name, " <- NULL")
eval(parse(text=command))
command <- paste0("gen_var_home_vec_", gen_var_name, " <- NULL")
eval(parse(text=command))
}
for (game in seq(along=ind.game.games)) {
gen_game_id <- ind.game.games[game]
gen_away_team_id <- as.character(ind.game[gen_game_id, ]$away_team_id)
gen_home_team_id <- as.character(ind.game[gen_game_id, ]$home_team_id)
# For each one of our variables
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
# Get values from team data frame
command <- paste0("gen_values_away_", gen_var_name, " <- agg.team['", gen_away_team_id, "', ]$opp_team_", gen_var_name)
eval(parse(text=command))
command <- paste0("gen_values_home_", gen_var_name, " <- agg.team['", gen_home_team_id, "', ]$opp_team_", gen_var_name)
eval(parse(text=command))
# Append it to our earlier vector
command <- paste0("gen_var_away_vec_", gen_var_name, " <- append(gen_var_away_vec_", gen_var_name, ", gen_values_away_", gen_var_name, ")")
eval(parse(text=command))
command <- paste0("gen_var_home_vec_", gen_var_name, " <- append(gen_var_home_vec_", gen_var_name, ", gen_values_home_", gen_var_name, ")")
eval(parse(text=command))
}
}
gen_var_away_vec_wins
gen_var_name
gen_var_name <- basicgamestatsaddsingle[1]
gen_game_id <- ind.game.games[1]
gen_away_team_id <- as.character(ind.game[gen_game_id, ]$away_team_id)
gen_home_team_id <- as.character(ind.game[gen_game_id, ]$home_team_id)
gen_game_id <- ind.game.games[2]
gen_game_id <- ind.game.games[1]
command <- paste0("gen_values_away_", gen_var_name, " <- agg.team['", gen_away_team_id, "', ]$opp_team_", gen_var_name)
command
agg.team['101', ]$opp_team_home_avg_ptsdiff
gen_values_away_home_avg_ptsdiff
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("ind.game$away_season_opp_", gen_var_name, " <- gen_var_away_vec_", gen_var_name)
eval(parse(text=command))
command <- paste0("ind.game$home_season_opp_", gen_var_name, " <- gen_var_home_vec_", gen_var_name)
eval(parse(text=command))
}
View(ind.game)
rm(list = ls(pattern = "\\bvec_"))
rm(list = ls(pattern = "\\bgen_"))
vec_team_away <- data.frame(row.names=row.names(ind.team))
View(vec_team_away)
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("vec_team_away$thisteam_season_opp_", gen_var_name, " = ind.game$away_season_opp_", gen_var_name)
eval(parse(text=command))
command <- paste0("vec_team_away$opp_season_opp_", gen_var_name, " = ind.game$home_season_opp_", gen_var_name)
eval(parse(text=command))
}
View(vec_team_away)
vec_team_home <- data.frame(row.names=row.names(ind.team))
for (variable in seq(along=basicgamestatsaddsingle)) {
gen_var_name <- basicgamestatsaddsingle[variable]
command <- paste0("vec_team_home$thisteam_season_opp_", gen_var_name, " = ind.game$home_season_opp_", gen_var_name)
eval(parse(text=command))
command <- paste0("vec_team_home$opp_season_opp_", gen_var_name, " = ind.game$away_season_opp_", gen_var_name)
eval(parse(text=command))
}
View(vec_team_home)
vec_ind.team <- rbind(vec_team_away, vec_team_home)
ind.team <- cbind(ind.team, vec_team_away, vec_team_home)
View(vec_ind.team)
rm(list = ls(pattern = "\\bvec_"))
rm(list = ls(pattern = "\\bgen_"))
saveRDS(agg.team,file="agg_team.RDS")
getwd()
saveRDS(agg.player,file="agg_player.RDS")
saveRDS(ind.team,file="ind_team.RDS")
shiny::runApp('~/GitHub/shiny_app')
